# Linux学习笔记

# 2021-12-18

* 一些简单的常用命令：
  * `date`
  * `history`——列出用户之前敲过的历史命令(按住ctrl+p或者**向上箭头**可以在历史列表里面做向上的滚动)——pre
  * 按住`ctrl+N`或者**向下箭头**可以在历史列表里面做向下的滚动——next
  * `ctrl+B`——命令里的光标向左走(往后走)——back
  * `ctrl+F`——命令里的光标向右走(往前走)——front
  * `ctrl+A`——命令里的光标直接移动到头部——ahead
  * `ctrl+E`——命令里的光标直接移动到尾部——end
  * `退格键或ctrl+H`——删除光标前面的字符（一个一个删）
  * `ctrl+D`——删除光标后面的字符（一个一个删）
  * `ctrl+U`——删除光标前面的字符（前面的所有）
* Linux中的光标比较宽

# 2021-12-20

* `Tab`——智能提示键，可以智能填充命令或路径

* `ls /`——查看根目录中的文件

* 目录结构
  * `bin`：里面存放一些二进制文件，里面有一些我们常用的命令的可执行程序。你执行了一些命令，它会自动到bin目录这里找，因为它配置了一些环境变量。

  * `boot`：里面存放了一些开机启动项，它是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件。这个文件不能删，删了就开不了机器了。

  * `dev`：它是device的缩写，存的是一些外部设备，比如鼠标，键盘，显卡等。(在LInux下面一切皆文件，它将硬件外设抽象成了一个个文件)在Linux中访问设备和访问文件的方式是相同的。

  * `etc`：用来存放所有的系统管理所需要的**配置文件**和子目录。

  * `home`：用户的主目录，每个用户都有一个自己的目录，一般该目录是以用户的账户命名的。home里面的都是普通用户，没有root用户。

  * `lib`：存放系统里面最基本的动态连接共享库，其作用类似于windows里的dll文件，几乎所有的应用都需要用到这些共享库。(Linux中动态库也叫共享库)

  * `lost-found`：这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件，用于恢复。

  * `media、mnt`：这2个目录都是用来挂载外设的

    * `media`：Linux系统会**自动识别**一些设备，例如U盘，光驱等等，当识别后，Linux会把识别的设备挂载到这个目录下。
    * `mnt`：系统提供该目录是为了让用户**临时挂载**(手动挂载)别的文件系统的，我们可以将光驱挂载到/mnt上，然后进入该目录就可以查看光驱里的内容了。

  * `opt`：这是给主机额外安装软件所摆放的目录，比如你安装一个oracle数据库就可以放到这个目录下，默认是空的。

  * `proc`：这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。这个目录的内容不在硬盘上而在内存里，我们也可以直接修改里面的某些文件，比如可以通过下面的命令来屏蔽主机的ping命令，使别人无法ping你的机器。

    ~~~
    echo i > /proc/sys/net/ipv4/icmp_echo_ignore_all
    ~~~

  * `root`：该目录为系统管理员，也称作超级权限者的用户主目录。

  * `sbin`：s就是super User的意思，这里存放的是系统管理员使用的系统管理程序。

  * `srv`：该目录存放一些服务启动之后需要提取的数据。

  * `sys`：这是Linux2.6内核的一个很大的变化，该目录下安装了2.6内核中新出现的一个文件系统sysfs。

  * `tmp`：这个目录用来存放一些临时文件

  * `usr`：这是一个非常重要的目录(用户软件资源目录——user software resource)，用户的很多应用程序和文件都放在这个目录下，类似于windows下的program files目录。

    * `/usr/bin`：系统用户使用的应用程序
    * `/usr/sbin`：超级用户使用的比较高级的管理程序和系统守护程序
    * `/usr/src`：内核源代码默认的放置目录

  * `var`：这个目录存放者不断扩充着的东西，我们习惯将哪些经常被修改的目录放在这个目录下，包括各种日志文件。

* 一些快捷键

  * `ctrl+L或者clear`：清屏
  * `cd -`：在临近的2个目录之间切换，类似于windows里面的`alt + tab`
  * `pwd`：显示当前的目录
  * `sudo su`：可以切换到当前用户
  * `cd`：直接写cd也可以回到家目录

* `[root@lm1018 ~]`#
  * `root`：当前登陆用户
  * `@`：表示at，在
  * `lm1018`：表示主机名
  * `~`：表示用户的家目录(宿主目录)
  * `$`表示当前用户是普通用户
  * `#`表示当前用户是超级用户(即root用户)

# 2022-01-23

## 文件和目录

* 查看我的资产(目录)

  * `tree`

  * 根据颜色查看文件类型(大部分是这样的)

    * 白色：普通文件
    * 蓝色：目录
    * 绿色：可执行文件
    * 红色：压缩文件
    * 青色：链接文件
    * 黄色：设备文件
    * 灰色：其他文件

  * `ls -a`：表示隐藏文件也给你显示出来

    * 如果一个文件前面有`.`,说明它就是一个隐藏的文件

  * `ls -l`：表示列出的是详细信息

  * 前面的10个字符的意思，比如`drwxr-xr-x`,分成1-3-3-3,后面三组表示权限

    * 第1个字符：表示文件类型

      * 普通文件:`-`
      * 目录：`d`
      * 链接符号：`l`
      * 块设备：`b`
      * `字符设备`：`c`
      * socket文件：`s`
      * 管道：`p`

    * 权限有三种：

      * r:read
      * w:write
      * x:执行

    * 依次表示**文件所有者**、**同组用户**、**其他人**的权限。

    * ~~~
      d       rwx   r-x     r-x.    2          
      文件类型 所有者 同组用户  其他人   文件硬链接数
      root                  root                  62 May 21  2021       skel
      该文件或目录的所有者     该文件或目录所属的组	   文件最后创建或修改时间    文件名
      ~~~


# 2022-06-09

* 给情人买房子(创建目录)
  * 一间小屋：`mkdir dirName`
  * 一套别墅：`mkdir dir/dir1/dir2 -p`
* 删除空目录:`rmdir dir`
* 删除非空目录(只要删除目录都要加参数-r)：
  * 无提示：`rm -r dir `
    * 删除了就没有了，没有回收站，想恢复很难
  * 有提示：`rm -ri dir`
* 创建文件(摸一下就创建了)：`touch dir`
  * 如果文件不存在，创建文件
  * 如果文件存在，修改文件的时间
* 删除`rm`是`remove`的简写
* 拷贝文件:`cp a b`(把a文件里面的内容拷贝到b里面，如果b里面本身有东西，会提示你是否要覆盖),cp是`copy`的缩写。
* 拷贝目录(加-r，递归的拷贝）：`cp a b -r`
* 查看文件具体信息：
  * `cat 文件名`——文件比较短使用这个比较好。
  * `more 文件名`——可以显示80%文件内容，按回车可以每次换一行，按空格可以每次翻一页，但是你只能往后看，不能往前看。按`q`键就可以退出了，或者按`ctrl + c`也可以退出。
  * `less 文件名`——使用`ctrl + p`可以往前看，`ctrl + e`可以往后看。
  * `head 文件名`——默认显示文件的前10行，加-5则显示前5行
  * `tail 文件名`——默认显示文件的后10行，加-5则显示前5行

